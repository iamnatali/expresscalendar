# Express Calendar

## Календарь-планер встреч для друзей.

Умеет хранить события и сверять их с графиком того,
кто у вас в друзьях, если одновременно вы у него в друзьях. 

Для того, чтобы получить список дат, когда
вы оба свободны необходимо задать диапазон поиска и поставить галочку напротив имени друга. Можно отметить больше чем одного друга, тогда календарь покажет когда вся отмеченная компания одновременно свободна.

Если вы пытаетесь сверить графики с тем, у кого вы не в друзьях, то результат вы получите, но его график учтен не будет.(просто узнаете когда вы сами свободны)

Друзья добавляются по нику.

## Запуск на https

Для запуска сервера нужно воспользоваться коммандой

node app.js

Тогда главная страница(страница входа) будет иметь url:

https://localhost:443/createuser

## Запуск на http

Для запуска сервера на http, а не на https нужно в файле app.js закомментировать строчки(их в файле несколько) после /* enables https */ и запустить его коммандой 

npm run serverstart

## Аутентификация

Аутентификация и регистрация полльзователя осуществляются с помощью Passport.js => 

для каждого клиента устанавливается сессия, и доступа только по url нет. Нужен еще куки(можно проверить вставив url в адресную строку другого браузера). Если сессия прерывается, то клиент перенаправляется на главную страницу

## Работа с БД

Для работы с базой данных используется mongoose.

## Тестовые аккаунты

Для тестирования приложения существует несколько уже готовых аккаунтов клиентов:

### Логин: Test3
### Пароль: 3

### Список событий:

next

Начало: Sat Jan 01 2000 12:00:00 GMT+0500 (Екатеринбург, стандартное время)

Конец: Wed Jan 05 2000 00:00:00 GMT+0500 (Екатеринбург, стандартное время)

next1

Начало: Thu Jan 06 2000 00:00:00 GMT+0500 (Екатеринбург, стандартное время)

Конец: Sat Jan 08 2000 00:00:00 GMT+0500 (Екатеринбург, стандартное время)

### Логин: Test1
### Пароль: 1

### Список событий:

heh

Начало: Fri Jan 08 2021 03:07:00 GMT+0500 (Екатеринбург, стандартное время)

Конец: Sat Jan 23 2021 03:08:00 GMT+0500 (Екатеринбург, стандартное время)

### Логин: Test2
### Пароль: 2

### Список событий:

t

Начало: Sun Jan 02 2000 00:00:00 GMT+0500 (Екатеринбург, стандартное время)

Конец: Mon Jan 03 2000 00:00:00 GMT+0500 (Екатеринбург, стандартное время)

## Общее свободное время в отрезке с Sat Jan 01 2000 00:00:00 GMT+0500 по Thu Jan 06 2000 00:00:00 GMT+0500

Начало: Sat Jan 01 2000 00:00:00 GMT+0500 (Екатеринбург, стандартное время)

Конец: Sat Jan 01 2000 12:00:00 GMT+0500 (Екатеринбург, стандартное время)

Начало: Wed Jan 05 2000 00:00:00 GMT+0500 (Екатеринбург, стандартное время)

Конец: Thu Jan 06 2000 00:00:00 GMT+0500 (Екатеринбург, стандартное время)